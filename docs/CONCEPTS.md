# Skills / Rules / Workflows の違い

Google Antigravity（および他のAI開発ツール）では、AIの動作をカスタマイズする3つの仕組みがあります。

## 一覧表

| 概念 | 役割 | 発動タイミング | フォルダ |
|------|------|---------------|---------|
| **Skills** | 特定タスクの専門知識 | AIが自動判断 | `.agent/skills/` |
| **Rules** | 常に守るべきルール | 常時適用 | `.agent/rules/` |
| **Workflows** | 複数ステップの自動化 | 明示的に呼び出し | `.agent/workflows/` |

---

## Skills（スキル）

### 特徴
- **AIが自動で判断して発動する**
- 特定のタスクに特化した専門知識
- `description` の `Use when:` でトリガーを定義

### 例
```
「指導案を作って」
→ lesson-plan スキルが自動で起動
→ 指導案のフォーマットに沿って出力
```

### 使いどころ
- 教材作成、評価、レポート生成など
- 繰り返し行うタスクの品質を安定させたい時
- 専門的なノウハウをAIに教えたい時

### ファイル構成
```
.agent/skills/
└── lesson-plan/
    └── SKILL.md    ← 必須
```

---

## Rules（ルール）

### 特徴
- **常に適用される**（オン/オフの切り替えなし）
- プロジェクト全体に影響
- コーディング規約、出力形式、禁止事項などを定義

### 例
```
# teaching-style.md
- 日本語で出力する
- 絵文字は使用しない
- 児童生徒への配慮を忘れない
```

### 使いどころ
- 全ての出力に適用したいルール
- チームで統一したいスタイル
- 守るべき制約・禁止事項

### ファイル構成
```
.agent/rules/
├── teaching-style.md
└── output-format.md
```

---

## Workflows（ワークフロー）

### 特徴
- **明示的に呼び出す**（`/コマンド` や特定のキーワード）
- 複数のステップを順番に実行
- 他のSkillsと組み合わせて使える

### 例
```
「/material」または「教材を作成して」
→ 1. ヒアリング
→ 2. 指導案作成
→ 3. ワークシート作成
→ 4. 評価規準作成
```

### 使いどころ
- 複数のタスクを順番に実行したい時
- 毎回同じ手順で進めたい作業
- チェックリスト的な使い方

### ファイル構成
```
.agent/workflows/
├── material-create.md
└── weekly-report.md
```

---

## イメージで理解する

```
┌─────────────────────────────────────────┐
│  あなたの発話                           │
│  「来週の理科の授業を準備して」         │
└─────────────────────────────────────────┘
              │
              ▼
┌─────────────────────────────────────────┐
│  Rules（常に適用）                      │
│  ・日本語で出力                         │
│  ・児童への配慮                         │
└─────────────────────────────────────────┘
              │
              ▼
┌─────────────────────────────────────────┐
│  AIの判断                               │
│  「授業準備」→ Skillsを探す             │
│  → lesson-plan スキルを発見！           │
└─────────────────────────────────────────┘
              │
              ▼
┌─────────────────────────────────────────┐
│  Skills（自動起動）                     │
│  lesson-plan: 指導案を作成              │
│  → フォーマットに沿って出力             │
└─────────────────────────────────────────┘
              │
              ▼
┌─────────────────────────────────────────┐
│  出力                                   │
│  整った指導案が生成される               │
└─────────────────────────────────────────┘
```

---

## まとめ

| やりたいこと | 使うべきもの |
|-------------|-------------|
| 「〜して」で自動で専門的な対応をしてほしい | **Skills** |
| 全ての出力に共通のルールを適用したい | **Rules** |
| 特定のコマンドで複数の処理を順番に実行したい | **Workflows** |
