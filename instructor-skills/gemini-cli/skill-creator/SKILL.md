---
name: skill-creator
description: |
  Gemini CLI用のスキルを作成・設計するためのガイド。
  Use when: スキル作成, skill作成, 新しいスキル, スキルを作りたい, SKILL.md, スキル設計, スキルの書き方
  Do not use when: 既存スキルの実行, スキルと関係ないタスク
---

# Skill Creator Guide（スキル作成ガイド）

Gemini CLIで使えるスキルを作成するためのガイド。

## このスキルを使用する時

- 新しいスキルを作りたい
- スキルの構造を理解したい
- 効果的なスキルの書き方を知りたい
- 既存スキルを改善したい

## このスキルを使用しない時

- 既存のスキルを実行する
- スキルと関係ないタスク

---

## 核心原則

### 1. コンテキストは公共財

> "コンテキストウィンドウは公共財である"

スキルはAIが必要とする他の全てのものとコンテキストを共有する。
**必要最小限の情報のみ**を含め、各要素の必要性を吟味すること。

### 2. 500行ルール

SKILL.mdは**500行以下**に保つ。それ以上になる場合：
- 複数のスキルに分割
- 詳細は `references/` に移動
- 不要なセクションを削除

### 3. 明確なトリガー

`description` に必ず以下を含める：

```yaml
description: |
  何をするスキルか。
  Use when: トリガーキーワード1, キーワード2, キーワード3
  Do not use when: 除外条件1, 除外条件2
```

AIはこの記述を見て、スキルを起動するか判断する。

---

## スキル構造

### Gemini CLIのフォルダ構成

```
project/
├── .gemini/
│   ├── skills/           # スキル定義
│   │   ├── skill-name/
│   │   │   ├── SKILL.md     # メインの指示（必須）
│   │   │   ├── scripts/     # 実行可能コード
│   │   │   └── references/  # 詳細ドキュメント
│   │   └── another-skill/
│   └── rules/            # 常時適用ルール
│       └── coding-rules.md
└── GEMINI.md             # プロジェクト説明
```

### グローバル vs プロジェクト

| レベル | パス | 用途 |
|-------|------|------|
| グローバル | `~/.gemini/skills/` | 全プロジェクト共通 |
| プロジェクト | `.gemini/skills/` | プロジェクト固有 |

### 最小構成

```
skill-name/
└── SKILL.md          # これだけで動く
```

### 拡張構成

```
skill-name/
├── SKILL.md          # メインの指示（必須）
├── scripts/          # 実行可能コード
│   └── helper.py
├── references/       # 詳細ドキュメント
│   └── api-guide.md
└── assets/           # テンプレート・画像
    └── template.md
```

### YAML Frontmatter

```yaml
---
name: skill-name           # ハイフン区切り、小文字、最大64文字
description: |
  スキルの説明（1024文字以下）。
  Use when: トリガーワード
  Do not use when: 除外条件
---
```

---

## スキル開発ワークフロー

### Step 1: ユースケースを明確化

```
このスキルで解決したい問題：
- 具体例1: 「〇〇を作って」と言われた時に△△する
- 具体例2: □□の作業を自動化したい
```

### Step 2: 構造を決める

| パターン | 適用場面 | 例 |
|---------|---------|-----|
| ワークフロー型 | 順番に処理する | Step1→Step2→Step3 |
| タスク型 | 複数機能がある | タスクA, タスクB, タスクC |
| リファレンス型 | 標準・仕様を守る | ガイドライン、ルール集 |

### Step 3: SKILL.mdを書く

```markdown
# スキル名

[1-2文で何をするか]

## このスキルを使用する時
- 条件1
- 条件2

## このスキルを使用しない時
- 除外1
- 除外2

## 対応タスク
1. タスク1
2. タスク2

## 実行方法
[具体的な手順]

## ヒアリング項目
実装前に確認：
- 確認事項1
- 確認事項2

## 出力形式
[どのような形式で出力するか]
```

### Step 4: テスト

作成したスキルを実際に使ってみる：
- トリガーワードでスキルが起動するか
- 期待通りの出力が得られるか
- エッジケースに対応できるか

### Step 5: 改善

使用中に気づいた問題点を修正：
- トリガーワードの追加・削除
- 手順の明確化
- 例の追加

---

## 良いスキルの特徴

### DO（やるべきこと）

- ✅ 明確な `Use when:` と `Do not use when:`
- ✅ 500行以下のSKILL.md
- ✅ 具体例を含む
- ✅ ヒアリング項目を用意
- ✅ 出力形式を明記

### DON'T（避けるべきこと）

- ❌ README.md, CHANGELOG.mdなど不要ファイル
- ❌ AIが既に知っている情報の重複
- ❌ 曖昧な説明（「良い感じに」「適切に」）
- ❌ 必要ない時のリソース全読み込み
- ❌ 複数の無関係なタスクを1つのスキルに

---

## 出力パターン

### テンプレートパターン

形式を厳密に守らせたい時：

```markdown
**必ずこの形式で出力：**

# タイトル
## セクション1
[内容]
## セクション2
[内容]
```

### 例示パターン

スタイルを伝えたい時：

```markdown
**入力例:** 「ログイン機能を追加」
**出力例:** `feat(auth): JWT認証を実装`

**入力例:** 「バグを修正」
**出力例:** `fix(api): nullチェックを追加`
```

---

## CLI別フォルダ比較

| ツール | スキルパス | ルールパス | グローバル |
|-------|-----------|-----------|-----------|
| Gemini CLI | `.gemini/skills/` | `.gemini/rules/` | `~/.gemini/` |
| Antigravity | `.agent/skills/` | `.agent/rules/` | `~/.gemini/antigravity/` |
| Claude Code | `.claude/skills/` | `.claude/rules/` | `~/.claude/` |

---

## 参考リンク

- [Gemini CLI Documentation](https://ai.google.dev/gemini-api/docs/cli)
- [Anthropic Skills Repository](https://github.com/anthropics/skills)
