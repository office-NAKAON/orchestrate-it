# ワークフローパターン

スキルで使用する一般的なワークフローパターン。

## 順次ワークフロー

複雑なタスクでは、操作を明確な順次ステップに分解する。SKILL.mdの冒頭でプロセスの概要を示すと効果的：

```markdown
PDFフォームの入力は以下のステップで行う：

1. フォームを分析（analyze_form.py を実行）
2. フィールドマッピングを作成（fields.json を編集）
3. マッピングを検証（validate_fields.py を実行）
4. フォームに入力（fill_form.py を実行）
5. 出力を確認（verify_output.py を実行）
```

---

## 条件分岐ワークフロー

分岐ロジックがあるタスクでは、Claudeを判断ポイントを通じてガイドする：

```markdown
1. 変更の種類を判断する：
   **新規コンテンツを作成？** → 下の「作成ワークフロー」に従う
   **既存コンテンツを編集？** → 下の「編集ワークフロー」に従う

2. 作成ワークフロー: [ステップ]
3. 編集ワークフロー: [ステップ]
```

---

## 選択ワークフロー

複数のオプションがある場合：

```markdown
## デプロイ先の選択

ユーザーの要件に基づいて適切なプロバイダーを選択：

| 要件 | 推奨 |
|------|------|
| 無料で始めたい | Vercel |
| サーバーレス関数が必要 | AWS Lambda |
| Googleサービスとの連携 | Cloud Run |

選択後、対応する詳細ガイドを参照：
- Vercel → references/vercel.md
- AWS → references/aws.md
- GCP → references/gcp.md
```

---

## ヒアリングワークフロー

実装前に情報収集が必要な場合：

```markdown
## ヒアリング項目

実装前に以下を確認：

### 必須項目
1. 対象は誰か？（学年、レベル）
2. 目的は何か？（何を達成したいか）
3. 制約はあるか？（時間、リソース）

### オプション項目
- 参考にしたいものはあるか？
- 特に重視するポイントは？

**ヒアリング後**: 収集した情報を元に実装を開始
```

---

## 反復ワークフロー

フィードバックを受けて改善するパターン：

```markdown
## 反復改善ワークフロー

1. **初版作成**: 要件に基づいて初版を作成
2. **レビュー依頼**: ユーザーにフィードバックを求める
3. **フィードバック反映**: 指摘事項を修正
4. **再レビュー**: 必要に応じて2-3に戻る
5. **完成**: 承認を得て完了

各ステップで明確に状態を伝える：
- 「初版が完成しました。レビューをお願いします。」
- 「フィードバックを反映しました。確認をお願いします。」
```

---

## エラーハンドリングワークフロー

問題が発生した場合の対応：

```markdown
## トラブルシューティング

### よくある問題と解決策

**問題**: [問題の説明]
**原因**: [考えられる原因]
**解決策**:
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

### 解決しない場合

以下の情報を収集：
- エラーメッセージの全文
- 実行した手順
- 環境情報（OS、バージョンなど）

その後、追加サポートを提供。
```
